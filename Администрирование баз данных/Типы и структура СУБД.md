# Домашнее задание к занятию "6.1. Типы и структура СУБД"


## Обязательная задача 1
Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
- Электронные чеки в json виде
- Склады и автомобильные дороги для логистической компании
- Генеалогические деревья
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
- Отношения клиент-покупка для интернет-магазина

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.


Электронные чеки в json виде
```
Документо-ориентированые БД.
Например MongoDB.
```
Склады и автомобильные дороги для логистической компании
```
Графовые БД.
Например Neo4j.
```
Генеалогические деревья
```
Сетевые БД.
Например IDS.
```

Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
```
Ключ-значение БД.
Например Memcached.
```

Отношения клиент-покупка для интернет-магазина
```
Реляционные БД.
Например MySQL.
```

## Обязательная задача 2
Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
```
CA, EL-PC
(A) Непротиворечивость — при чтении гарантированно возвращается самая последняя запись для данного клиента.
(P) Допуск к разделению — система будет продолжать функционировать при возникновении сетевых разделов.
Эта система обеспечивает CA, т. е. непротиворечивость и доступность, компрометирующие толерантность к разделам.
в случае отсутствия сетевого разделения данные доступны и консистентны (нормальный режим работы).
```
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
```
AP, PA-EL

(A)Доступность . Исправный узел вернет разумный ответ в течение разумного периода времени (без ошибок или тайм-аутов)
(P)Допуск к разделению — система будет продолжать функционировать при возникновении сетевых разделов.
Эта система обеспечивает AP, т. е. доступность и устойчивость к разделению, компрометируя согласованность.
в случае сетевого разделения узлов системы она продолжает отвечать пользователям на запросы, при этом не гарантируя консистентности данных.
```
- Система может не прислать корректный ответ или сбросить соединение
```
CP, PA-EC

(C)Непротиворечивость — при чтении гарантированно возвращается самая последняя запись для данного клиента.
(P)Допуск к разделению — система будет продолжать функционировать при возникновении сетевых разделов.
Эта система обеспечивает CP, т.е. непротиворечивость и устойчивость к разделам, компрометируя доступность.
в случае сетевого разделения узлов системы она прекращает отвечать пользователям на запросы, данные остаются консистентными.
```

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?




## Обязательная задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

```
Не могут. 
ACID - нацелен на высоконадежность
BASE - нацелен на высокую производтельность системы.
Этим принципы противоречат друг другу. 
```

## Обязательная задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?

```
Readis
Минусы Redis:
Требуются достаточные ресурсы оперативной памяти. 
Это NoSQL база, слабые характеристики надежности.  
Все данные храняться в оперативной памяти и при отказе сервера все данные с последней синхронизации с диском будут утеряны.
Работает только на одном ядре процессора в однопоточном режиме.
Отсутствует разграничение прав доступа по пользователям.
Экземпляр БД не маштабируется.
```
